"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeta=void 0;const headers={Referer:"https://google.com","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"},getMeta=async function({link:link,providerContext:providerContext}){const{axios:axios,cheerio:cheerio}=providerContext;try{const res=await axios.get(link,{headers:headers}),$=cheerio.load(res.data);let title=$(".sheader h1").first().text().trim()||"";title=title.replace(/\s*\(\d{4}\)$/,"").trim();const type="movie",date=$(".sheader .extra .date").text().trim(),network=$(".sheader .extra span a[rel='tag']").text().trim(),rating=$(".starstruck-rating span[itemprop='ratingValue']").text().trim()||"",tagline=$(".sheader .extra .tagline").text().trim()||"",posterImg=$(".sheader .poster img");let image=posterImg.attr("data-lazy-src")||posterImg.attr("data-src")||posterImg.attr("src")||$("meta[property='og:image']").attr("content")||"";!image.includes("data:image/svg+xml")&&image||(image=$("meta[property='og:image']").attr("content")||""),image&&!image.startsWith("http")&&(image=new URL(image,link).href);const tags=[];$(".sgeneros a").each((_,el)=>{const txt=$(el).text().trim();txt&&tags.push(txt)});const creator=$("#cast h2:contains('Creator') + .persons .person .data .name a").text().trim(),cast=[];$("#cast h2:contains('Cast') + .persons .person").each((_,el)=>{const name=$(el).find(".data .name a").text().trim(),character=$(el).find(".data .caracter").text().trim();name&&cast.push({name:name,character:character||"N/A"})});let synopsis="";const $content=$("#info .wp-content").clone();$content.find(".custom-video-container, .seriecontainer, img, iframe, script, style").remove(),synopsis=$content.text().trim(),synopsis=synopsis.replace(/[\s\n]+/g," ").trim(),synopsis||(synopsis="No synopsis available.");const links=[];let languages="";const languagesText=$(".seriecontainer p:contains('Languages:')").text().trim();languagesText&&(languages=languagesText.replace("Languages:","").trim()),$(".movie-button-container a").each((_,el)=>{let href=($(el).attr("href")||"").trim();if(!href)return;href.startsWith("http")||(href=new URL(href,link).href);const btnText=$(el).text().trim();links.push({title:btnText,directLinks:[{link:href,title:btnText,quality:btnText.match(/2160P|4K/i)?"4K":btnText.match(/1080P/i)?"1080p":btnText.match(/720P/i)?"720p":"SD",type:"movie"}],episodesLink:href})});return{title:title,synopsis:synopsis,image:image,imdbId:"",type:type,tags:tags,rating:rating,linkList:links,extraInfo:{tagline:tagline,date:date,network:network,languages:languages,creator:creator}}}catch(err){return{title:"",synopsis:"",image:"",imdbId:"",type:"movie",tags:[],rating:"",linkList:[],extraInfo:{}}}};exports.getMeta=getMeta;