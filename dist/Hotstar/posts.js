"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPosts=getPosts,exports.getSearchPosts=getSearchPosts;const MAIN_URL="https://net20.cc",UA="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36",baseHeaders={"User-Agent":UA,"X-Requested-With":"XMLHttpRequest",Cookie:"ott=hs; hd=on;",Referer:`${MAIN_URL}/home`};async function getPosts({filter:filter,page:page=1,providerContext:providerContext}){var _a;const{axios:axios}=providerContext,unixTime=Math.floor(Date.now()/1e3);let query="";switch(filter){case"movies":query="movie";break;case"series":query="season";break;default:query="h"}const url=`${MAIN_URL}/mobile/hs/search.php?s=${encodeURIComponent(query)}&t=${unixTime}`;try{const res=await axios.get(url,{headers:{...baseHeaders,Referer:`${MAIN_URL}/home`}});return((null===(_a=res.data)||void 0===_a?void 0:_a.searchResult)||[]).map(item=>({title:item.t||"Hotstar",image:`https://imgcdn.kim/hs/v/${item.id}.jpg`,link:item.id}))}catch(e){return[]}}async function getSearchPosts({searchQuery:searchQuery,providerContext:providerContext}){var _a;const{axios:axios}=providerContext,unixTime=Math.floor(Date.now()/1e3),url=`${MAIN_URL}/mobile/hs/search.php?s=${encodeURIComponent(searchQuery)}&t=${unixTime}`;try{const res=await axios.get(url,{headers:{...baseHeaders,Referer:`${MAIN_URL}/home`}});return((null===(_a=res.data)||void 0===_a?void 0:_a.searchResult)||[]).map(item=>({title:item.t||"",image:`https://imgcdn.kim/hs/v/${item.id}.jpg`,link:item.id}))}catch(e){return[]}}