"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeta=void 0;const headers={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"},getMeta=({link:link,providerContext:providerContext})=>{const{axios:axios,cheerio:cheerio}=providerContext;return axios.get(link,{headers:headers}).then(({data:data})=>{const $=cheerio.load(data),body=$(".entry-content, .post-inner").first();let rawTitle=$("h1.entry-title").first().text().trim()||$("h1").first().text().trim(),title=rawTitle.replace(/Download|Full Movie|Web Series|All Episodes|Complete/gi,"").replace(/Original|NetFlix/gi,"").replace(/&/g,"").replace(/\(\d{4}\)/g,"").replace(/\|\s*\d{4}\s*\|/g,"").replace(/Season\s*\d+|S\d+/gi,"").replace(/\b(480p|720p|1080p|2160p|4k|Hindi|English|Dual Audio|WEB-DL|Bluray|Webrip|Dvdrip|DDP5\.1|DD5\.1|Multi Audio)\b/gi,"").replace(/[|–—\[\]{}()]/g,"").replace(/\s{2,}/g," ").trim();const isSeries=/Season|Episode/i.test(rawTitle)||data.toLowerCase().includes("season"),info={title:title||"Unknown",synopsis:body.find("p:contains('Plot'), p:contains('SYNOPSIS')").next("p").text().trim()||body.find(".overview").text().trim(),image:body.find("img[src]").first().attr("src")||"",imdbId:"",type:isSeries?"series":"movie",linkList:[]},links=[];if(isSeries)$("h3:contains('Links')").each((_,el)=>{var _a,_b;const text=$(el).text().trim(),quality=(null===(_a=text.match(/\d+p/i))||void 0===_a?void 0:_a[0])||"HD",epLink=$(el).find("a").attr("href")||$(el).next("h3").find("a").attr("href");epLink&&links.push({title:`Season ${(null===(_b=text.match(/\d+/))||void 0===_b?void 0:_b[0])||""} (${quality})`,quality:quality,episodesLink:epLink,directLinks:[{title:"View Episodes",link:epLink,type:"series"}]})});else{const pageText=body.text();$("h3:contains('Links')").each((_,el)=>{var _a;const quality=(null===(_a=$(el).text().match(/\d+p/i))||void 0===_a?void 0:_a[0])||"HD",href=$(el).find("a").attr("href"),sizeMatch=pageText.match(new RegExp(`${quality}.*?\\[(.*?)\\]`,"i")),size=sizeMatch?sizeMatch[1]:"";href&&links.push({title:`Play ${quality} ${size?`(${size})`:""}`,quality:quality,episodesLink:href,directLinks:[{title:`Play ${quality} (${size})`,link:href,type:"movie"}]})})}return info.linkList=links,info}).catch(err=>({title:"",synopsis:"",image:"",imdbId:"",type:"movie",linkList:[]}))};exports.getMeta=getMeta;