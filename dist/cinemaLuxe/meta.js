"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeta=void 0;const headers={Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8","Accept-Language":"en-US,en;q=0.9","Cache-Control":"no-store",DNT:"1","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"},getMeta=({link:link,providerContext:providerContext})=>{const{axios:axios,cheerio:cheerio}=providerContext,baseUrl=link.split("/").slice(0,3).join("/"),empty={title:"",synopsis:"",image:"",imdbId:"",type:"movie",linkList:[]};return axios.get(link,{headers:{...headers,Referer:baseUrl}}).then(({data:data})=>{const $=cheerio.load(data),body=$(".entry-inner, .entry-content, .post-inner").first();let title=($("h1").first().text().trim()||$("h2").first().text().trim()||$("h3:contains('Download')").first().text().trim()).replace(/download/gi,"").replace(/\(\d{4}\)/g,"").replace(/season\s*\d+|s\d+|episode\s*\d+|e\d+/gi,"").replace(/\b(480p|720p|1080p|2160p|4k|hdr|bluray|web\-dl|webrip|dvdrip)\b/gi,"").replace(/\b(hindi|english|tamil|telugu|malayalam|dual audio|multi audio|ddp?|aac)\b/gi,"").replace(/\b(netflix|amazon prime|prime video|hotstar|zee5|sony liv|apple tv)\b/gi,"").replace(/[~|–—]/g," ").replace(/\[.*?\]|\{.*?\}/g,"").replace(/[()]/g,"").replace(/\s{2,}/g," ").trim(),image=body.find("img[data-src]").first().attr("data-src")||body.find("img[src]").first().attr("src")||"";image.startsWith("//")&&(image="https:"+image);const info={title:title||"Unknown",synopsis:body.find("h3:contains('SYNOPSIS'), h3:contains('Plot')").next("p").text().trim()||$("p:contains('Movie-SYNOPSIS')").next("p").text().trim()||"",image:image,imdbId:"",type:/season|episode/i.test(data)?"series":"movie",linkList:[]},links=[];return body.find("h3").each((_,el)=>{var _a;const qualityTitle=$(el).text().trim();if(!/\d+p/i.test(qualityTitle))return;const quality=(null===(_a=qualityTitle.match(/\d+p/i))||void 0===_a?void 0:_a[0])||"",directLinks=[];$(el).nextUntil("h3").find("a[href]").each((_,a)=>{const $a=$(a),text=$a.text().trim()||$a.find("button").text().trim()||($a.attr("title")||"").trim(),href=$a.attr("href")||"";(/Zee-Cloud|V-Cloud|Batch|Zip/i.test(text)||$a.find("i[class*='zip']").length>0)&&href&&directLinks.push({title:text||href,link:href,type:"series"})}),directLinks.length&&links.push({title:qualityTitle,quality:quality,episodesLink:directLinks[0].link,directLinks:directLinks})}),links.length||$("h5").each((_,el)=>{var _a;const qTitle=$(el).text().trim();if(!/\d+p/i.test(qTitle))return;const quality=(null===(_a=qTitle.match(/\d+p/i))||void 0===_a?void 0:_a[0])||"",directLinks=[];$(el).next("p").find("a[href]").each((_,a)=>{const $a=$(a),href=$a.attr("href")||"",text=$a.text().trim()||$a.find("button").text().trim()||($a.attr("title")||"").trim();href&&directLinks.push({title:text||"Download",link:href,type:"movie"})}),directLinks.length&&links.push({title:qTitle,quality:quality,episodesLink:directLinks[0].link,directLinks:directLinks})}),info.linkList=links,info}).catch(err=>empty)};exports.getMeta=getMeta;