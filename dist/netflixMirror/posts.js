"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPosts=getPosts,exports.getSearchPosts=getSearchPosts;const MAIN_URL="https://net20.cc",headers={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36","X-Requested-With":"XMLHttpRequest",Cookie:"ott=nf; hd=on; user_token=233123f803cf02184bf6c67e149cdd50; t_hash_t=",Referer:`${MAIN_URL}/`};async function getPosts({filter:filter,page:page=1,providerContext:providerContext}){var _a;const{axios:axios}=providerContext,unixTime=Math.floor(Date.now()/1e3);let query="";switch(filter){case"top10":query="top 10";break;case"movies":query="movie";break;case"tv":query="season";break;default:query=""}const url=`${MAIN_URL}/search.php?s=${encodeURIComponent(query)}&t=${unixTime}`,searchHeaders={...headers,Referer:`${MAIN_URL}/tv/home`};try{const res=await axios.get(url,{headers:searchHeaders});return((null===(_a=res.data)||void 0===_a?void 0:_a.searchResult)||[]).map(item=>({title:item.t||"Movie / Show",image:`https://imgcdn.kim/poster/v/${item.id}.jpg`,link:item.id}))}catch(e){return[]}}async function getSearchPosts({searchQuery:searchQuery,providerContext:providerContext}){const{axios:axios}=providerContext,unixTime=Math.floor(Date.now()/1e3),url=`${MAIN_URL}/search.php?s=${encodeURIComponent(searchQuery)}&t=${unixTime}`,searchHeaders={...headers,Referer:`${MAIN_URL}/tv/home`};try{const data=(await axios.get(url,{headers:searchHeaders})).data;return(data.searchResult||[]).map(item=>({title:item.t||"",image:`https://imgcdn.kim/poster/v/${item.id}.jpg`,link:item.id}))}catch(e){return[]}}