"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSearchPosts=exports.getPosts=void 0;const getPosts=async function({filter:filter,page:page,signal:signal,providerContext:providerContext}){const{getBaseUrl:getBaseUrl,axios:axios}=providerContext;return posts({url:`${await getBaseUrl("consumet")+filter}?page=${page}`,signal:signal,axios:axios})};exports.getPosts=getPosts;const getSearchPosts=async function({searchQuery:searchQuery,page:page,signal:signal,providerContext:providerContext}){const{getBaseUrl:getBaseUrl,axios:axios}=providerContext;return posts({url:`${await getBaseUrl("consumet")}/anime/zoro/${searchQuery}?page=${page}`,signal:signal,axios:axios})};async function posts({url:url,signal:signal,axios:axios}){var _a;try{const data=null===(_a=(await axios.get(url,{signal:signal})).data)||void 0===_a?void 0:_a.results,catalog=[];return null==data||data.map(element=>{const title=element.title,link=element.id,image=element.image;title&&link&&image&&catalog.push({title:title,link:link,image:image})}),catalog}catch(err){return[]}}exports.getSearchPosts=getSearchPosts;