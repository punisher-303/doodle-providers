<<<<<<< HEAD
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeta=void 0;const headers={Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","Accept-Language":"en-US,en;q=0.9","Cache-Control":"no-store","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"},getMeta=function({link:link,providerContext:providerContext}){const{axios:axios,cheerio:cheerio}=providerContext,empty={title:"",synopsis:"",image:"",imdbId:"",type:"series",linkList:[]};return axios.get(link,{headers:headers}).then(res=>{const $=cheerio.load(res.data),title=$("header.entry-header h1.entry-title").first().text().trim();let image=$(".post-thumbnail img").first().attr("src")||$("img").first().attr("src")||"";image.startsWith("//")&&(image="https:"+image);const info={title:title,synopsis:$(".description p").first().text().trim(),image:image,imdbId:"",type:"series",linkList:[]};return $(".choose-season ul.sub-menu li a").each((_,el)=>{const match=$(el).text().trim().match(/\d+/),seasonNum=match?match[0]:null;seasonNum&&info.linkList.push({title:"Season "+seasonNum,quality:"Season "+seasonNum,episodesLink:link,directLinks:[]})}),0===info.linkList.length&&$("section.episodes").length>0&&info.linkList.push({title:"Season 1",quality:"Season 1",episodesLink:link,directLinks:[]}),info}).catch(err=>empty)};exports.getMeta=getMeta;
=======
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeta=void 0;const headers={Referer:"https://google.com","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36"},getMeta=async function({link:link,providerContext:providerContext}){var _a;try{const{axios:axios,cheerio:cheerio}=providerContext,res=await axios.get(link,{headers:headers}),$=cheerio.load(res.data),container=$("article.post.single, .entry-content").first(),title=(container.find("h1.entry-title").text().trim()||(null===(_a=$("meta[property='og:title']").attr("content"))||void 0===_a?void 0:_a.trim())||$("title").text().trim()).replace(/\s{2,}/g," ").trim(),type=/season|episode|ep\s*\d+/i.test(title)?"series":"movie",synopsis=container.find(".entry-content p").map((_,el)=>$(el).text().trim()).get().join(" ")||$("meta[name='description']").attr("content")||$("meta[property='og:description']").attr("content")||"",image=container.find(".post-thumbnail img").attr("src")||$("meta[property='og:image']").attr("content")||"",links=[],episodeLinks=[],seenLinks=new Set;return $(".seasons-lst li").each((_,el)=>{const ep=$(el),epTitle=ep.find("h3.title").text().trim(),epLink=ep.find("a.btn").attr("href");ep.find("img").attr("src");epLink&&!seenLinks.has(epLink)&&(seenLinks.add(epLink),episodeLinks.push({title:epTitle,link:epLink.startsWith("http")?epLink:new URL(epLink,link).href,type:"episode"}))}),$(".download-links a[data-url]").each((_,el)=>{const base64Link=$(el).attr("data-url"),quality=$(el).closest("tr").find("td:nth-child(3)").text().trim()||"HD";if(!base64Link)return;const finalLink=atob(base64Link);seenLinks.has(finalLink)||(seenLinks.add(finalLink),episodeLinks.push({title:`Download - ${quality}`,link:finalLink,type:"movie",quality:quality}))}),episodeLinks.length>0&&links.push({title:title,directLinks:episodeLinks}),{title:title,synopsis:synopsis,image:image,imdbId:"",type:type,linkList:links}}catch(err){return{title:"",synopsis:"",image:"",imdbId:"",type:"movie",linkList:[]}}};exports.getMeta=getMeta;
>>>>>>> 7f000b622e14a4045c1d1bf3af4fa78965b8b3b3
