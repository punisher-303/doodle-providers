"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeta=void 0;const headers={Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","Cache-Control":"no-store","Accept-Language":"en-US,en;q=0.9",DNT:"1","sec-ch-ua":'"Not_A Brand";v="8", "Chromium";v="120", "Microsoft Edge";v="120"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"Sec-Fetch-Dest":"document","Sec-Fetch-Mode":"navigate","Sec-Fetch-Site":"none","Sec-Fetch-User":"?1","Upgrade-Insecure-Requests":"1","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"},getMeta=async function({link:link,providerContext:providerContext}){const{axios:axios,cheerio:cheerio}=providerContext,url=link,baseUrl=url.split("/").slice(0,3).join("/"),emptyResult={title:"",synopsis:"",image:"",imdbId:"",type:"movie",linkList:[]};try{const response=await axios.get(url,{headers:{...headers,Referer:baseUrl}}),$=cheerio.load(response.data),result=($(".wp-content").first().parent(),{title:"",synopsis:"",image:"",imdbId:"",type:"movie",linkList:[]});result.type="movie";let finalTitle=$("h1").first().text().trim().replace(/\s*\d{4}\s*\(Dual Audio [A-Za-z\-]+\)|\s*\(\s*WEB-DL\s*\)/i,"").trim();result.title=finalTitle||"Unknown Title",result.imdbId="";let image=$("div.galeria a").first().attr("href")||"";image||(image=$("img[src]").filter((i,el)=>!$(el).closest(".module_single_ads").length&&!/logo|placeholder/i.test($(el).attr("src")||"")).first().attr("src")||""),image.startsWith("//")&&(image="https:"+image),result.image=image,result.synopsis=$("#info .wp-content p").first().text().trim()||"";const links=[];return $(".custom-download-btn").each((index,element)=>{var _a,_b;const btn=$(element),fullTitle=btn.text().trim().replace(/â†“/g,"").trim(),qualityMatch=(null===(_a=fullTitle.match(/\d+p/i))||void 0===_a?void 0:_a[0])||"",submenuIdMatch=null===(_b=btn.attr("onclick"))||void 0===_b?void 0:_b.match(/toggleSubMenu\(['"](.*?)['"]\)/);if(!submenuIdMatch)return;const submenuId=submenuIdMatch[1],submenu=$(`#${submenuId}`),directLinks=[];if(submenu.find("a").each((i,linkEl)=>{const linkA=$(linkEl),linkHref=linkA.attr("href"),linkText=linkA.text().trim();linkHref&&(linkHref.includes("hubcloud.one")||linkHref.includes("gdflix.dev"))&&directLinks.push({title:linkText.replace("ðŸ”—",""),link:linkHref,type:"movie"})}),directLinks.length){const listTitle=`${fullTitle} - ${qualityMatch}`;links.push({title:listTitle,quality:qualityMatch,episodesLink:directLinks[0].link,directLinks:directLinks})}}),result.linkList=links,result}catch(err){return emptyResult}};exports.getMeta=getMeta;