"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEpisodes=void 0;const getEpisodes=async function({url:url,providerContext:providerContext}){const{axios:axios,cheerio:cheerio,commonHeaders:headers}=providerContext;try{const res=await axios.get(url,{headers:{...headers}}),$=cheerio.load(res.data),container=$(".entry-content, .entry-inner, .post-content"),episodes=[];if(container.find("h4").each((_,element)=>{const el=$(element),headerText=el.text().trim();if(!/episode/i.test(headerText))return;const title=headerText.replace(/[^0-9]/g,"").trim(),link=el.nextUntil("h4").find('a[href*="vcloud"]').attr("href");title&&link&&episodes.push({title:`Episode ${title}`,link:link})}),0===episodes.length){const singleVCloud=container.find('a[href*="vcloud"]').first().attr("href");singleVCloud&&episodes.push({title:"Play Movie / Full Batch",link:singleVCloud})}return episodes}catch(err){return[]}};exports.getEpisodes=getEpisodes;