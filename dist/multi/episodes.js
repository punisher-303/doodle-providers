"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEpisodes=getEpisodes;const HEADERS={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"};async function getEpisodes({url:url,providerContext:providerContext}){const{axios:axios}=providerContext,[pageUrl,seasonNum]=url.split("|"),episodes=[];try{const res=await axios.get(pageUrl,{headers:HEADERS}),seasonBlocks=res.data.split(/class=["']episodios["']/i);seasonBlocks.shift();const targetIndex=parseInt(seasonNum)-1;if(seasonBlocks[targetIndex]){const seasonHtml=seasonBlocks[targetIndex].split("</ul>")[0],liRegex=/<li[\s\S]*?<\/li>/gi;let liMatch,epIndex=1;for(;null!==(liMatch=liRegex.exec(seasonHtml));){const itemHtml=liMatch[0],titleLinkMatch=/class=["']episodiotitle["'][\s\S]*?<a[^>]+href=["']([^"']+)["'][^>]*>([^<]+)<\/a>/i.exec(itemHtml);if(titleLinkMatch){const link=titleLinkMatch[1],title=titleLinkMatch[2];let image="";const imgTagMatch=/class=["']imagen["'][\s\S]*?<img([^>]+)>/i.exec(itemHtml);if(imgTagMatch){const imgAttrs=imgTagMatch[1],dataSrc=/data-src=["']([^"']+)["']/i.exec(imgAttrs),src=/src=["']([^"']+)["']/i.exec(imgAttrs);dataSrc&&dataSrc[1].trim().startsWith("http")?image=dataSrc[1].trim():src&&src[1].trim().startsWith("http")&&(image=src[1].trim())}episodes.push({title:`Ep ${epIndex} - ${title.trim()}`,link:link}),epIndex++}}}}catch(err){}return episodes}