"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEpisodes=void 0;const getEpisodes=function({url:url,providerContext:providerContext}){const{axios:axios}=providerContext;if(!url.includes("season=")||!url.includes("id="))return Promise.resolve([{title:"Play",link:url}]);let season="",postId="";try{const parsed=new URL(url);season=parsed.searchParams.get("season")||"",postId=parsed.searchParams.get("id")||""}catch(_a){return Promise.resolve([])}if(!season||!postId)return Promise.resolve([]);const apiUrl="https://coflix.si/wp-json/apiflix/v1/series/"+postId+"/"+season;return axios.get(apiUrl).then(res=>{var _a;return((null===(_a=res.data)||void 0===_a?void 0:_a.episodes)||[]).map(ep=>({title:ep.title||"Episode "+ep.number,link:ep.links}))}).catch(err=>[])};exports.getEpisodes=getEpisodes;