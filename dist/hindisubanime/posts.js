"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPosts=getPosts,exports.getSearchPosts=getSearchPosts;const BASE_URL="https://hindisubanime.co",headers={Referer:BASE_URL,"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8","Accept-Language":"en-US,en;q=0.9"};async function getPosts({filter:filter,page:page=1,signal:signal,providerContext:providerContext}){return fetchPosts({filter:filter,page:page,signal:signal,providerContext:providerContext})}async function getSearchPosts({searchQuery:searchQuery,page:page=1,signal:signal,providerContext:providerContext}){return fetchPosts({query:searchQuery,page:page,signal:signal,providerContext:providerContext})}async function fetchPosts({filter:filter,query:query,page:page=1,signal:signal,providerContext:providerContext}){try{let url=BASE_URL;query?url=`${BASE_URL}/?s=${encodeURIComponent(query)}`:filter&&(url=filter.startsWith("/")?`${BASE_URL}${filter}`:`${BASE_URL}/${filter}`,page>1&&(url=`${url}/page/${page}/`));const{axios:axios,cheerio:cheerio}=providerContext,res=await axios.get(url,{headers:headers,signal:signal}),$=cheerio.load(res.data||""),posts=[];let selector="article";return query&&(selector="ul[data-results] li article"),$(selector).each((_,el)=>{const article=$(el),link=article.find("a.lnk-blk").attr("href");if(!link)return;const title=article.find("header h2").text().trim();if(!title)return;const imgTag=article.find("div figure img");let image=imgTag.attr("src")||"";image.includes("data:image")&&(image=imgTag.attr("data-lazy-src")||image),posts.push({title:title,link:link,image:image})}),posts}catch(err){return[]}}