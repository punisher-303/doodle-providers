"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStream=getStream;const headers={Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8","Accept-Language":"en-US,en;q=0.9","Cache-Control":"no-store",DNT:"1","Upgrade-Insecure-Requests":"1","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"};async function getStream({link:link,type:type,signal:signal,providerContext:providerContext}){const{axios:axios,cheerio:cheerio}=providerContext;try{const streams=[];link.includes("gdflix.dev/file/")&&(link=link.replace("gdflix.dev","new12.gdflix.net"));const res=await axios.get(link,{headers:headers,signal:signal}),$=cheerio.load(res.data),r2Link=$("a.btn-outline-success").filter((_,el)=>$(el).text().toLowerCase().includes("cloud download")).attr("href");r2Link&&streams.push({server:"Cloud R2",link:r2Link,type:"file"});const pixelHref=$("a[href*='pixeldrain.dev/u/']").attr("href");if(pixelHref){const pixelId=pixelHref.split("/").pop();pixelId&&streams.push({server:"PixelDrain",link:`https://pixeldrain.dev/api/file/${pixelId}`,type:"file"})}return streams}catch(err){return[]}}