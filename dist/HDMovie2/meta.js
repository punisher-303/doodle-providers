"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeta=void 0;const headers={Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","Accept-Language":"en-US,en;q=0.9","Cache-Control":"no-cache",Pragma:"no-cache","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},getMeta=function({link:link,providerContext:providerContext}){const{axios:axios,cheerio:cheerio}=providerContext,emptyResult={title:"",synopsis:"",image:"",imdbId:"",type:"movie",linkList:[]};return axios.get((url=link,"https://api.allorigins.win/raw?url="+encodeURIComponent(url)),{headers:{...headers,Referer:link}}).then(res=>{const $=cheerio.load(res.data||""),result={title:"",synopsis:"",image:"",imdbId:"",type:"movie",linkList:[]},rawTitle=$("h1").first().text().trim();result.title=rawTitle.replace(/Watch online.*$/i,"").replace(/“.*?”|\(.*?\)/g,"").trim()||"Unknown Title",result.synopsis=$("#info .wp-content p").first().text().trim()||"";let image=$("#dt_galery .g-item a").first().attr("href")||"";image.startsWith("//")&&(image="https:"+image),result.image=image;const links=[];return $(".custom-download-btn").each((_,btnEl)=>{var _a,_b,_c;const btn=$(btnEl),quality=(null===(_a=btn.text().replace(/↓/g,"").match(/\d+p/i))||void 0===_a?void 0:_a[0])||"",submenuId=null===(_c=null===(_b=btn.attr("onclick"))||void 0===_b?void 0:_b.match(/toggleSubMenu\(['"](.+?)['"]\)/))||void 0===_c?void 0:_c[1];if(!submenuId)return;const submenu=$(`#${submenuId}`),hubLinks=[],gdLinks=[];submenu.find("a").each((_,aEl)=>{const href=$(aEl).attr("href")||"";href.includes("hubcloud")?hubLinks.push({title:"HubCloud",link:href,type:"movie"}):(href.includes("gdflix")||href.includes("gdlink")||href.includes("gdfiles"))&&gdLinks.push({title:"GDFlix",link:href,type:"movie"})}),hubLinks.length?links.push({title:`${quality} - HubCloud`,quality:quality,episodesLink:hubLinks[0].link,directLinks:hubLinks}):gdLinks.length&&links.push({title:`${quality} - GDFlix`,quality:quality,episodesLink:gdLinks[0].link,directLinks:gdLinks})}),result.linkList=links,result}).catch(()=>emptyResult);var url};exports.getMeta=getMeta;