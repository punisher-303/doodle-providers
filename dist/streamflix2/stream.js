"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStream=getStream;const CONFIG_URL="https://api.streamflix.app/config/config-streamflixapp.json";async function getStream({link:link,providerContext:providerContext}){const{axios:axios}=providerContext,[type,...rest]=link.split(":"),urlPart=rest.join(":");try{const config=(await axios.get(CONFIG_URL)).data,streams=[];return"movie"===type?(config.premium.forEach(base=>{streams.push({server:"StreamFlix Premium",link:base+urlPart,type:"mp4"})}),config.movies.forEach(base=>{streams.push({server:"StreamFlix Movies",link:base+urlPart,type:"mp4"})})):"episode"===type&&(urlPart.startsWith("tv/")?(config.premium.forEach(base=>{streams.push({server:"StreamFlix Premium",link:base+urlPart,type:"mp4"})}),config.tv.forEach(base=>{streams.push({server:"StreamFlix TV",link:base+urlPart,type:"mp4"})})):urlPart.startsWith("http")&&streams.push({server:"Direct",link:urlPart,type:"mp4"})),streams}catch(e){return[]}}