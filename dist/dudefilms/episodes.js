"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEpisodes=void 0;const getEpisodes=async function({url:url,providerContext:providerContext}){const{axios:axios,cheerio:cheerio,commonHeaders:headers}=providerContext;try{const res=await axios.get(url,{headers:{...headers,cookie:"ext_name=ojplmecpdpgccookcobabopnaifgidhf; xla=s4t"}}),$=cheerio.load(res.data||"");$(".unili-content, .code-block-1, script").remove();const episodes=[];return $(".timed-content-client_show_0_5 a.maxbutton-ep").each((_,el)=>{var _a;const anchor=$(el),text=anchor.text().trim(),link=anchor.attr("href");if(!link||!/hubcloud/i.test(link))return;const episodeNo=(null===(_a=text.match(/\d+/))||void 0===_a?void 0:_a[0])||"";episodes.push({title:episodeNo?`Episode ${episodeNo}`:text,link:link})}),episodes}catch(err){return[]}};exports.getEpisodes=getEpisodes;