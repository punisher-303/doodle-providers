"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStream=getStream;const headers={Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8","Cache-Control":"no-store","Accept-Language":"en-US,en;q=0.9",DNT:"1","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"};async function getStream({link:link,type:type,signal:signal,providerContext:providerContext}){const{axios:axios,cheerio:cheerio,extractors:extractors}=providerContext,{hubcloudExtracter:hubcloudExtracter}=extractors;try{const streamLinks=[];if(link.includes("hubcloud")&&link.includes("/video/")){return await hubcloudExtracter(link,signal)}const html=(await axios.get(link,{headers:headers,signal:signal})).data,$=cheerio.load(html),hubcloudLink=$('a[href*="hubcloud"]').attr("href");if(hubcloudLink){const hubStreams=await hubcloudExtracter(hubcloudLink,signal);streamLinks.push(...hubStreams)}const gdflixLink=$('a[href*="gdflix.dev/file"]').attr("href");if(gdflixLink){const gdHtml=(await axios.get(gdflixLink,{headers:headers,signal:signal})).data,$$=cheerio.load(gdHtml),pixelLink=$$('a[href*="pixeldrain.dev/u/"]').attr("href");if(pixelLink){const pixelId=pixelLink.split("/u/")[1];streamLinks.push({server:"pixeldrain",link:`https://pixeldrain.dev/api/file/${pixelId}`,type:"mkv"})}const cloudLink=$$('a[href*="r2.dev"]').attr("href");cloudLink&&streamLinks.push({server:"cloud",link:cloudLink,type:"mkv"})}return streamLinks}catch(err){return[]}}