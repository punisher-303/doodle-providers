"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEpisodes=void 0;const getEpisodes=async function({url:url,providerContext:providerContext}){var _a;const{getBaseUrl:getBaseUrl,axios:axios,cheerio:cheerio}=providerContext,baseUrl=await getBaseUrl("fibwatch");if(url.startsWith("season:")){const parts=url.split(":"),seasonNum=parts[1],videoId=parts[3],epRes=await axios.get(`${baseUrl}/ajax/episodes.php?video_id=${videoId}`),episodes=[];return(null===(_a=epRes.data)||void 0===_a?void 0:_a.episodes)&&epRes.data.episodes.forEach(ep=>{const sMatch=ep.title.match(/s(\d{1,2})/i);sMatch&&parseInt(sMatch[1])===parseInt(seasonNum)&&episodes.push({title:ep.title||"Episode",link:ep.url.startsWith("http")?ep.url:`${baseUrl}${ep.url}`})}),episodes}return[{title:"Watch",link:url}]};exports.getEpisodes=getEpisodes;