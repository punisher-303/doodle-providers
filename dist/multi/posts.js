"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPosts=getPosts,exports.getSearchPosts=getSearchPosts;const MAIN_URL="https://multimovies.golf",HEADERS={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:MAIN_URL};async function getPosts({filter:filter,page:page=1,providerContext:providerContext}){const{axios:axios}=providerContext,posts=[];try{const url=1===page?`${MAIN_URL}/${filter||"trending/"}`:`${MAIN_URL}/${filter||"trending/"}page/${page}/`,res=await axios.get(url,{headers:HEADERS}),articles=res.data.split("<article");articles.shift();for(const article of articles){const content=article.split("</article>")[0],titleMatch=/<h3[^>]*>\s*<a[^>]+href="([^"]+)"[^>]*>([^<]+)<\/a>/i.exec(content),imgMatch=/<img[^>]+src="([^"]+)"/i.exec(content),dataSrcMatch=/<img[^>]+data-src="([^"]+)"/i.exec(content);if(titleMatch){let link=titleMatch[1];link.startsWith("/")&&(link=`${MAIN_URL}${link}`);let image=dataSrcMatch?dataSrcMatch[1]:imgMatch?imgMatch[1]:"";image&&image.startsWith("/")&&(image=`${MAIN_URL}${image}`),posts.push({title:titleMatch[2].trim(),link:link,image:image})}}}catch(err){}return posts}async function getSearchPosts({searchQuery:searchQuery,providerContext:providerContext}){const{axios:axios}=providerContext,posts=[];try{const url=`${MAIN_URL}/?s=${encodeURIComponent(searchQuery)}`,res=await axios.get(url,{headers:HEADERS}),items=res.data.split('class="result-item"');items.shift();for(const item of items){const content=item.split("</article>")[0],titleMatch=/<div class="title">\s*<a href="([^"]+)">([^<]+)<\/a>/i.exec(content),imgMatch=/<img[^>]+src="([^"]+)"/i.exec(content);if(titleMatch){let link=titleMatch[1];link.startsWith("/")&&(link=`${MAIN_URL}${link}`);let image=imgMatch?imgMatch[1]:"";image&&image.startsWith("/")&&(image=`${MAIN_URL}${image}`),posts.push({title:titleMatch[2].trim(),link:link,image:image})}}}catch(err){}return posts}