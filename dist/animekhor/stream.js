"use strict";function decodeBase64(input){try{if("function"==typeof atob)return decodeURIComponent(Array.prototype.map.call(atob(input),c=>"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch(_a){}try{return Buffer.from(input,"base64").toString("utf-8")}catch(_b){return""}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStream=void 0;const getStream=function({link:link,providerContext:providerContext}){const{axios:axios,cheerio:cheerio,commonHeaders:commonHeaders}=providerContext;return axios.get(link,{headers:commonHeaders}).then(res=>{const $=cheerio.load(res.data||""),streams=[];return $("select.mirror option").each((_,el)=>{const encoded=$(el).attr("value")||"";if(!encoded)return;const decoded=decodeBase64(encoded);if(!decoded)return;if(!decoded.includes("rumble.com/embed/"))return;const match=decoded.match(/rumble\.com\/embed\/v([a-zA-Z0-9]+)/);if(!match)return;const m3u8=`https://rumble.com/hls-vod/${match[1]}/playlist.m3u8`;streams.push({server:"Rumble",link:m3u8,type:"m3u8",subtitles:[]})}),streams}).catch(err=>[])};exports.getStream=getStream;