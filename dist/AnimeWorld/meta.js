"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeta=void 0;const headers={Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","Cache-Control":"no-store","Accept-Language":"en-US,en;q=0.9",DNT:"1",Cookie:"xla=s4t; _ga=GA1.1.1081149560.1756378968; _ga_BLZGKYN5PF=GS2.1.s1756378968$o1$g1$t1756378984$j44$l0$h0","Upgrade-Insecure-Requests":"1","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"},getMeta=async function({link:link,providerContext:providerContext}){const{axios:axios,cheerio:cheerio}=providerContext,empty={title:"",synopsis:"",image:"",imdbId:"",type:"series",linkList:[]};try{const response=await axios.get(link,{headers:headers}),$=cheerio.load(response.data),result={title:"",synopsis:"",image:"",imdbId:"",type:"series",linkList:[]},rawTitle=$(".dfxb.alg-cr .entry-title").text().trim();result.title=rawTitle;let image=$(".dfxb.alg-cr img[alt]").attr("src")||"";image.startsWith("//")&&(image="https:"+image),result.image=image,result.synopsis=$(".description p").text().trim(),result.type="series";const episodeArticles=$("#episode_by_temp .post.episodes");return episodeArticles.length>0&&episodeArticles.each((i,el)=>{const article=$(el),episodesLink=article.find("a.lnk-blk").attr("href"),numEpi=article.find(".num-epi").text().trim(),episodeTitle=article.find(".entry-title").text().trim(),match=numEpi.match(/(\d+)x(\d+)/);let qualityTag="Unknown",seasonNum=1,episodeNum=1;match&&(seasonNum=parseInt(match[1]),episodeNum=parseInt(match[2]),qualityTag=`S${seasonNum}`),episodesLink&&result.linkList.push({title:episodeTitle,quality:qualityTag,episodesLink:episodesLink,directLinks:[]})}),result.linkList.sort((a,b)=>{const matchA=a.title.match(/(\d+)x(\d+)/),matchB=b.title.match(/(\d+)x(\d+)/);if(!matchA||!matchB)return 0;const sA=parseInt(matchA[1]),eA=parseInt(matchA[2]),sB=parseInt(matchB[1]),eB=parseInt(matchB[2]);return sA!==sB?sA-sB:eA-eB}),result}catch(err){return empty}};exports.getMeta=getMeta;