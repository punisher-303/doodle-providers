"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEpisodes=void 0;const getEpisodes=async function({url:url,providerContext:providerContext}){const{axios:axios,cheerio:cheerio,commonHeaders:headers}=providerContext;try{const res=await axios.get(url,{headers:headers}),$=cheerio.load(res.data),episodes=[],baseUrl=new URL(url).origin;return $(".episode-container .item").each((_,el)=>{const href=$(el).attr("href"),title=$(el).find(".ep-sort").text().trim();if(href){const fullLink=href.startsWith("http")?href:baseUrl+href;episodes.push({title:title||`Episode ${episodes.length+1}`,link:fullLink})}}),$("a.item.pd").each((_,el)=>{const href=$(el).attr("href"),epNo=$(el).find(".media-title").text().trim();if(href){const fullLink=href.startsWith("http")?href:baseUrl+href;episodes.find(e=>e.link===fullLink)||episodes.push({title:epNo?`Episode ${epNo}`:`Episode ${episodes.length+1}`,link:fullLink})}}),0===episodes.length&&$("a").each((_,el)=>{const text=$(el).text();if(/Táº­p\s*\d+/i.test(text)){const href=$(el).attr("href");href&&episodes.push({title:text.trim(),link:href.startsWith("http")?href:baseUrl+href})}}),episodes}catch(err){return[]}};exports.getEpisodes=getEpisodes;