"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeta=void 0;const defaultHeaders={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36",Accept:"application/json, text/plain, */*","Accept-Language":"en-US,en;q=0.9","Cache-Control":"no-cache",Pragma:"no-cache"},getMeta=async function({link:link,providerContext:providerContext}){const{axios:axios}=providerContext,emptyResult={title:"",synopsis:"",image:"",imdbId:"",type:"series",linkList:[]};try{const apiUrl=`https://sadabefy.vercel.app/api/movie-details?url=${encodeURIComponent(link)}`,data=(await axios.get(apiUrl,{headers:defaultHeaders})).data;if(!data)return emptyResult;const isSeries=data.seasons&&data.seasons.length>0,result={title:data.title||"",synopsis:data.plot||"Overview unavailable.",image:data.poster||"",imdbId:data.imdbId||"",type:isSeries?"series":"movie",linkList:[]},links=[];if(data.downloadSections&&Array.isArray(data.downloadSections))for(const section of data.downloadSections)if(section.links&&Array.isArray(section.links))for(const dl of section.links){if(!dl.url||!dl.url.includes("mdrive.lol/archives/"))continue;const linkType=isSeries?"episode":"movie";let title=dl.label||section.title||"Download";section.season&&(title=`Season ${section.season} - ${title}`),links.push({title:title,quality:section.quality||"",episodesLink:isSeries?dl.url:"",directLinks:[{title:title,link:dl.url,type:linkType}]})}return result.linkList=links,result}catch(err){return emptyResult}};exports.getMeta=getMeta;