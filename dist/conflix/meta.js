"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeta=void 0;const getMeta=function({link:link,providerContext:providerContext}){const{axios:axios,cheerio:cheerio}=providerContext,empty={title:"",synopsis:"",image:"",imdbId:"",type:"series",linkList:[]};return axios.get(link).then(res=>{const $=cheerio.load(res.data||""),title=($('meta[property="og:title"]').attr("content")||$("title").text()||"").replace(/En\s*$/,"").trim();let image=$("img.TPostBg").attr("src")||$("div.title-img img").attr("src")||"";image.startsWith("//")&&(image="https:"+image),image&&!image.startsWith("http")&&(image=new URL(image,link).href);const synopsis=$("div.summary.link-co p").first().text().trim(),imdbHref=$("p.dtls a:contains(IMDb)").attr("href")||"",imdbId=imdbHref&&imdbHref.split("/").pop()||"",type=link.includes("film")?"movie":"series";if("series"===type){const input=$("section.sc-seasons ul li input").first(),season=input.attr("data-season"),postId=input.attr("post-id");season&&postId&&empty.linkList.push({title:"Episodes",quality:"HD",episodesLink:`${link}?season=${season}&id=${postId}`,directLinks:[]})}else empty.linkList.push({title:"Play",quality:"HD",episodesLink:link,directLinks:[]});return{title:title,synopsis:synopsis,image:image,imdbId:imdbId,type:type,linkList:empty.linkList}}).catch(err=>empty)};exports.getMeta=getMeta;